{"version":3,"sources":["webpack:///route-home.chunk.a2c05.js","webpack:///./components/tabPanel/style.less","webpack:///./routes/home/index.js","webpack:///./components/tabPanel/index.js","webpack:///./components/hash/index.js","webpack:///./components/raw/index.js","webpack:///./components/json/index.js","webpack:///./util/renderLinks.js","webpack:///./routes/home/style.less"],"names":["webpackJsonp","+EiC","module","exports","selected","/+Z2","__webpack_exports__","__webpack_require__","_objectDestructuringEmpty","obj","TypeError","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","listsEqual","l1","l2","length","hashObject","json","JSON","stringify","hash","makeHashString","makeFullyHashed","object","hashes","objects","jsons","console","log","_hashObject2","reduce","hashed","key","push","undefined","Array","isArray","_makeFullyHashed2","h","o","j","apply","_makeFullyHashed3","unshift","defineProperty","d","Home","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router_match__","n","__WEBPACK_IMPORTED_MODULE_2__style__","__WEBPACK_IMPORTED_MODULE_4__components_json__","__WEBPACK_IMPORTED_MODULE_6__components_tabPanel__","__WEBPACK_IMPORTED_MODULE_7__lib_keccak_js__","_this6","this","_extends","assign","arguments","source","host","window","location","hostname","_Component","props","_this","state","delay","failCount","data","store","onTextAdd","text","_makeFullyHashed","substring","xhr","XMLHttpRequest","open","send","setState","transforms","bind","onTextTagsAdd","tags","_hashObject","addData","render","_ref4","_ref5","hosts","storeData","map","header","FilterView","DataView","items","ceec1972c7f3e92c0483c1d8fc1b50676176b877278d0157350dd41c51f0f14d","TextTagsInput","onAdd","_Component2","_this2","filters","references","setFilters","splice","subscribe","home","_this3","token","cancel","subscription","Promise","resolve","then","callback","reverse","promise","canceled","getData","getJsonReferences","catch","error","reject","getSubscribeJsonKey","getSubscribeLatest","setTimeout","Math","pow","_ref6","_ref6$data","FilterInput","_Component3","_temp","_this4","_ret","_len","args","_key","concat","addFilter","input","slice","removeFilter","filter","index","_ref7","_ref8","_this5","onClick","type","onKeyUp","_ref9","which","ref","el","_ref10","route","parse","_ref14","_ref15","_ref13","autofocus","textarea","split","focus","DtTT","TabPanel","__WEBPACK_IMPORTED_MODULE_1__style__","__WEBPACK_IMPORTED_MODULE_1__style___default","expanded","_ref","_ref2","children","className","a","_ref3","attributes","event","stopPropagation","LtVz","Hash","ColorHash","__WEBPACK_IMPORTED_MODULE_2_preact_router_match__","settings","colorHash","hashFnName","title","match","portion","style","parseInt","NBoq","Raw","__WEBPACK_IMPORTED_MODULE_2__style___default","__WEBPACK_IMPORTED_MODULE_3__hash__","__WEBPACK_IMPORTED_MODULE_4__util_renderLinks__","QD63","auzC","pptu","Json","KeyValues","__WEBPACK_IMPORTED_MODULE_2__hash__","renderValue","__WEBPACK_IMPORTED_MODULE_3__util_renderLinks__","rYS7","sr9F","renderLinks","regexp","result","exec","protocol","prev","next","__WEBPACK_IMPORTED_MODULE_1__components_hash__","href","vO8M","label","info"],"mappings":"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","file":"route-home.chunk.a2c05.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"+EiC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"selected\":\"selected__3rVjq\"};\n\n/***/ }),\n\n/***/ \"/+Z2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Home; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact_router_match__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"vO8M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_hash__ = __webpack_require__(\"LtVz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_json__ = __webpack_require__(\"pptu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_raw__ = __webpack_require__(\"NBoq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_tabPanel__ = __webpack_require__(\"DtTT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_keccak_js__ = __webpack_require__(\"EGbH\");\nvar _this6 = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar host = window.location.hostname === 'localhost' ? 'localhost:9999' : 'db.fact.company';\n\nvar Text = function Text(_ref) {\n  var text = _ref.text;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'text',\n    null,\n    text\n  );\n};\nvar TextJSON = function TextJSON(_ref2) {\n  var text = _ref2.text,\n      json = _ref2.json;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'text-json',\n    null,\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'text',\n      null,\n      text\n    ),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'json',\n      null,\n      json\n    )\n  );\n};\nvar HashTextJSON = function HashTextJSON(_ref3) {\n  var hash = _ref3.hash,\n      text = _ref3.text,\n      json = _ref3.json;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'hash-text-json',\n    null,\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'text',\n      null,\n      text\n    ),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'json',\n      null,\n      json\n    ),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'hash',\n      null,\n      hash\n    )\n  );\n};\n// const HashBucket = ({hash, children}) => <hash-bucket><hash>{hash}</hash>{...children}</hash-bucket>;\n\nfunction get(url) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url);\n    xhr.addEventListener('load', function () {\n      return resolve(xhr.responseText);\n    });\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('timeout', reject);\n    xhr.send();\n  });\n}\n\nfunction post(url, data) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('POST', url);\n    xhr.addEventListener('load', function () {\n      return resolve(xhr.responseText);\n    });\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('timeout', reject);\n    xhr.send(data);\n  });\n}\n\nfunction postLookup(hashes) {\n  return post('http://' + host + '/keccak/lookup', hashes);\n}\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    _classCallCheck(this, Home);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this));\n\n    _this.state = {\n      log: [],\n      delay: 500,\n      failCount: 0\n      // data: {}\n      // data: this.props.store.data\n    };\n\n\n    _this.state.data = props.store.data;\n\n    var home = _this,\n        store = props.store;\n\n\n    _this.store = store;\n\n    // if (!this.latestSubscription) this.latestSubscription = subscribe();\n\n    function subscribe() {\n      return store\n      // .getSubscribeLatest(hashes => {\n      .getSubscribeJsonKey('link', function (hashes) {\n        console.log('hashes', hashes);\n        hashes.reduce(function (promise, hash) {\n          return !hash ? undefined : store.getData(hash).then(function (data) {\n            return setState(store.transforms['addData'].bind(home, hash, data));\n          });\n        }, Promise.resolve());\n      }).then(subscribe).then(function () {\n        return home.state.failCount = 0;\n      }).catch(function () {\n        return setTimeout(subscribe, home.state.delay = 100 * Math.pow(2, home.state.failCount = (home.state.failCount || 0) + 1));\n      });\n    }\n\n    function setState(state) {\n      return home.setState.call(home, state);\n    }\n    return _this;\n  }\n\n  Home.prototype.onTextAdd = function onTextAdd(text) {\n    var _makeFullyHashed = makeFullyHashed({ text: text }),\n        hashes = _makeFullyHashed.hashes,\n        objects = _makeFullyHashed.objects,\n        jsons = _makeFullyHashed.jsons;\n\n    for (var i = 0; i < hashes.length; i++) {\n      console.log('settings', text, hashes[i], objects[i], jsons[i]);\n      var hash = hashes[i].substring(7),\n          json = jsons[i];\n\n      if (this.state.data[hash] === undefined) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.open('POST', 'http://' + host + '/keccak/' + hash, true);\n        xhr.send(json);\n      }\n\n      this.setState(transforms['addData'].bind(this, hash, json));\n    }\n\n    return hashes;\n  };\n\n  Home.prototype.onTextTagsAdd = function onTextTagsAdd(text, tags) {\n    var hashed = { text: text, tags: tags },\n        _hashObject = hashObject(hashed),\n        hash = _hashObject.hash,\n        json = _hashObject.json,\n        hashes = [hash],\n        jsons = [json];\n    // {hashes, jsons} = makeFullyHashed({text, tags});\n\n    for (var i = 0; i < hashes.length; i++) {\n      console.log('setting', text, hashes[i], jsons[i]);\n      var _hash = hashes[i].substring(7),\n          _json = jsons[i];\n\n      if (this.state.data[_hash] === undefined) {\n        this.store.addData(_json);\n      }\n\n      this.setState(this.props.store.transforms['addData'].bind(this, _hash, _json));\n    }\n  };\n\n  //<data>{Object.keys(data).map(k => data[k].map(d => <HashTextJSON hash={k} {...makeFullyUnhashed(data, d)} />))}</data>\n\n\n  Home.prototype.render = function render(_ref4, _ref5) {\n    var data = _ref5.data;\n\n    var text = _ref4.text,\n        tags = _ref4.tags,\n        store = _ref4.store,\n        props = _objectWithoutProperties(_ref4, ['text', 'tags', 'store']);\n\n    var hosts = store.hosts,\n        storeData = store.data,\n        log = store.log;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'home',\n      null,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'left',\n        null,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_6__components_tabPanel__[\"a\" /* TabPanel */],\n          null,\n          hosts.map(function (host) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'container',\n              {\n                header: 'db (' + host + ')' },\n              __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(FilterView, _extends({}, _extends({ store: store }, props), { data: data }))\n            );\n          }),\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'container',\n            {\n              header: 'localStorage' },\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(DataView, _extends({ items: ['ceec1972c7f3e92c0483c1d8fc1b50676176b877278d0157350dd41c51f0f14d'], data: { 'ceec1972c7f3e92c0483c1d8fc1b50676176b877278d0157350dd41c51f0f14d': ['456'] } }, props))\n          ),\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'container',\n            {\n              header: 'store' },\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(DataView, _extends({ items: log, data: storeData }, props))\n          )\n        )\n      ),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'right',\n        null,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(TextTagsInput, { text: text, tags: tags, onAdd: this.onTextTagsAdd.bind(this) })\n      )\n    );\n  };\n\n  return Home;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\nvar FilterView = function (_Component2) {\n  _inherits(FilterView, _Component2);\n\n  function FilterView(props) {\n    _classCallCheck(this, FilterView);\n\n    var _this2 = _possibleConstructorReturn(this, _Component2.call(this));\n\n    _this2.state = {\n      failCount: 0,\n      filters: [],\n      references: {},\n      items: []\n    };\n\n\n    _this2.state.data = props.data;\n    _this2.store = props.store;\n\n    _this2.setFilters();\n    return _this2;\n  }\n\n  FilterView.prototype.setFilters = function setFilters() {\n    var filters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    console.log('setting filters', filters, this.state.filters);\n    if (filters.length === 0 && this.state.filters.length === 0 || !listsEqual(filters, this.state.filters)) {\n      this.setState(function (state) {\n        console.log('data', state.data);\n        state.filters = filters;\n        state.items.splice(0);\n        return state;\n      });\n      console.log('setFilters', filters, this.state.filters);\n      this.subscribe(filters);\n    }\n  };\n\n  FilterView.prototype.subscribe = function subscribe(filters) {\n    var _this3 = this;\n\n    var home = this,\n        store = this.store,\n        token = this.token = this.token || {};\n\n    if (this.token.cancel) this.token.cancel();\n\n    console.log('subscribing', filters);\n\n    return (this.subscription || Promise.resolve()).then(function () {\n      var callback = function callback(hashes) {\n        console.log('hashes', hashes);\n\n        hashes.reverse().reduce(function (promise, hash) {\n          return !hash && !token.canceled ? promise : store.getData(hash).then(function (data) {\n            return setState(store.transforms['addData'].bind(home, hash, data));\n          }).then(function () {\n            return store.getJsonReferences(hash);\n          }).then(function (references) {\n            return setState(function (state) {\n              state.references[hash] = references; // bad way to do this... will need to delete?\n              state.items.unshift(hash);\n              console.log('references', references);\n              return state;\n            });\n          });\n        }, Promise.resolve()).catch(function (error) {\n          return console.log('big error', error);\n        });\n      };\n\n      return _this3.subscription = new Promise(function (resolve, reject) {\n        (filters[0] || '' !== '' ? store.getSubscribeJsonKey(filters[0], callback, token) : store.getSubscribeLatest(callback, token)).then(function () {\n          return home.state.failCount = 0;\n        }).then(function () {\n          if (!token.canceled) {\n            state.items.splice(0);\n            home.subscribe.call(home, filters);\n          }\n        }).then(resolve).catch(function () {\n          console.log('subscription catch!', filters);\n          if (!token.canceled) {\n            setTimeout(function () {\n              state.items.splice(0);\n              home.subscribe.bind(home, filters);\n            }, home.state.delay = 100 * Math.pow(2, home.state.failCount = (home.state.failCount || 0) + 1));\n            resolve();\n          } else reject();\n        });\n      });\n    });\n\n    function setState(state) {\n      return home.setState.call(home, state);\n    }\n  };\n\n  FilterView.prototype.render = function render(props, _ref6) {\n    var _ref6$data = _ref6.data,\n        data = _ref6$data === undefined ? [] : _ref6$data,\n        references = _ref6.references,\n        items = _ref6.items;\n    var setFilters = this.setFilters;\n\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'filter-view',\n      null,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(FilterInput, _extends({ setFilters: setFilters.bind(this) }, props)),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(DataView, _extends({}, props, { data: data, references: references, items: items }))\n    );\n  };\n\n  return FilterView;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nfunction listsEqual(l1, l2) {\n  if (l1.length !== l2.length) return false;\n  for (var i = 0; i < l1.length; i++) {\n    if (l1[0] !== l2[0]) return false;\n  }return true;\n}\n\nvar FilterInput = function (_Component3) {\n  _inherits(FilterInput, _Component3);\n\n  function FilterInput() {\n    var _temp, _this4, _ret;\n\n    _classCallCheck(this, FilterInput);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this4 = _possibleConstructorReturn(this, _Component3.call.apply(_Component3, [this].concat(args))), _this4), _this4.state = {\n      filters: []\n    }, _temp), _possibleConstructorReturn(_this4, _ret);\n  }\n\n  FilterInput.prototype.addFilter = function addFilter() {\n    var home = this,\n        store = this.props.store;\n\n    this.setState(function (state) {\n      if (state.filters.indexOf(home.input.value) === -1) state.filters.push(home.input.value);\n      return state;\n    });\n\n    this.props.setFilters(this.state.filters.slice());\n  };\n\n  FilterInput.prototype.removeFilter = function removeFilter(filter) {\n    this.setState(function (state) {\n      var index = state.filters.indexOf(filter);\n      if (index >= 0) state.filters.splice(index, 1);\n      return state;\n    });\n\n    console.log('filter removed', filter, this.state.filters);\n    this.props.setFilters(this.state.filters.slice());\n  };\n\n  FilterInput.prototype.render = function render(_ref7, _ref8) {\n    var _this5 = this;\n\n    var filters = _ref8.filters;\n\n    _objectDestructuringEmpty(_ref7);\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'filter-input',\n      null,\n      filters.map(function (filter) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'filter',\n          null,\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'remove',\n            { onClick: _this5.removeFilter.bind(_this5, filter) },\n            'x'\n          ),\n          filter\n        );\n      }),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { type: 'text', onKeyUp: function onKeyUp(_ref9) {\n          var which = _ref9.which;\n          return which === 13 ? _this5.addFilter() : undefined;\n        }, ref: function ref(el) {\n          return _this5.input = el;\n        }, value: '' }),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'button',\n        { onClick: this.addFilter.bind(this) },\n        '+'\n      )\n    );\n  };\n\n  return FilterInput;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar DataView = function DataView(_ref10) {\n  var data = _ref10.data,\n      items = _ref10.items,\n      route = _ref10.route,\n      props = _objectWithoutProperties(_ref10, ['data', 'items', 'route']);\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'db',\n    null,\n    items.length,\n    items.map(function (hash) {\n      return (data[hash] || []).map(function (d) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_4__components_json__[\"a\" /* Json */], _extends({ hash: hash, obj: JSON.parse(d), onClick: function onClick() {\n            return route('/keccak/' + hash);\n          } }, props));\n      });\n    })\n  )\n  // <db>{items.map(hash => data[hash].map(d => <Raw hash={hash} data={d} onClick={() => route(`/keccak/${hash}`)} {...props} />))}</db>\n  ;\n};\n\nvar _ref11 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('data', null);\n\nvar Data = function Data() {\n  return _ref11;\n};\n\n// {\n//   hash,\n//   data,\n//   json,\n//   object\n// }\n\n\nvar TextInput = function TextInput(_ref12) {\n  var text = _ref12.text,\n      onAdd = _ref12.onAdd;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'text-input',\n    null,\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('textarea', { autofocus: true, value: text, ref: function ref(el) {\n        return _this6.textarea = el;\n      } }),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'button',\n      { onClick: function onClick() {\n          return onAdd(_this6.textarea.value);\n        } },\n      'Add'\n    )\n  );\n};\n\nvar _ref14 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'label',\n  null,\n  'Text'\n);\n\nvar _ref15 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'label',\n  null,\n  'Tags (separate with commas)'\n);\n\nvar TextTagsInput = function TextTagsInput(_ref13) {\n  var text = _ref13.text,\n      tags = _ref13.tags,\n      onAdd = _ref13.onAdd;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'text-input',\n    null,\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      null,\n      _ref14,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('textarea', { autofocus: true, value: text, ref: function ref(el) {\n          return _this6.textarea = el;\n        } })\n    ),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      null,\n      _ref15,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('textarea', { value: tags, ref: function ref(el) {\n          return _this6.tags = el;\n        } })\n    ),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'button',\n      { onClick: function onClick() {\n          return onAdd(_this6.textarea.value, _this6.tags.value.length > 0 ? _this6.tags.value.split(',') : undefined) & _this6.textarea.focus();\n        } },\n      'Add'\n    )\n  );\n};\n\nvar makeHashString = function makeHashString(data) {\n  return 'keccak:' + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__lib_keccak_js__[\"a\" /* default */])(data);\n};\n\nfunction hashObject(obj) {\n  var json = JSON.stringify(obj),\n      hash = makeHashString(json);\n\n  return { hash: hash, json: json };\n}\n\nfunction makeFullyHashed(object) {\n  var hashes = [],\n      objects = [object],\n      jsons = [];\n\n  console.log('fully hashing', object);\n\n  var _hashObject2 = hashObject(Object.keys(object).reduce(function (hashed, key) {\n    var value = object[key];\n    console.log(key, value, typeof value);\n    if (typeof value === 'string') {\n      console.log('got string', value);\n      var _hash2 = makeHashString(value);\n      hashed[key] = _hash2;\n      hashes.push(_hash2);\n      objects.push(value);\n      jsons.push(undefined);\n    } else if (Array.isArray(value)) {\n      console.log('got array');\n\n      var _makeFullyHashed2 = makeFullyHashed(value),\n          _h = _makeFullyHashed2.hashes,\n          o = _makeFullyHashed2.objects,\n          j = _makeFullyHashed2.jsons;\n\n      hashed[key] = hash;\n      // hashes.push(hash);\n      hashes.push.apply(hashes, _h);\n      objects.push.apply(objects, o);\n      jsons.push.apply(jsons, j);\n    } else if (typeof value === 'object') {\n      console.log('got object');\n\n      var _makeFullyHashed3 = makeFullyHashed(value),\n          _h2 = _makeFullyHashed3.hashes,\n          _o = _makeFullyHashed3.objects,\n          _j = _makeFullyHashed3.jsons;\n\n      hashed[key] = hash;\n      // hashes.push(hash);\n      hashes.push.apply(hashes, _h2);\n      objects.push.apply(objects, _o);\n      jsons.push.apply(jsons, _j);\n    }\n\n    return hashed;\n  }, {})),\n      hash = _hashObject2.hash,\n      json = _hashObject2.json;\n\n  hashes.unshift(hash);\n  jsons.unshift(json);\n\n  console.log('hash', hashes, objects, jsons);\n\n  return { hashes: hashes, objects: objects, jsons: jsons };\n}\n\nfunction makeFullyUnhashed(data, hashed, key) {\n  console.log({ data: data, hashed: hashed }, typeof hashed, key);\n  if (typeof hashed === 'object') {\n    return Object.keys(hashed).reduce(function (unhashed, key) {\n      unhashed[key] = makeFullyUnhashed(data, hashed[key], key);\n      console.log(unhashed);\n      return unhashed;\n    }, {});\n  } else if (typeof hashed === 'string') {\n    if (key === 'json') return hashed; // shouldn't hardcode key name like this...\n    if (hashed.indexOf('keccak:') === 0) return data[hashed][0][key];\n  }\n}\n\nfunction unhashJSONToDepth(data, hashed, max_depth) {\n  var depth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n}\n\nfunction unhashJSONToDepthWithHandlers(data, handlers, hashed, max_depth) {\n  var depth = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n}\n\n// text\n// tags\n// relationships\n// annotations\n\n\n// {\n//   text: '',\n//   tags: [],\n//   relationships: {\n\n//   }\n// }\n\n\n// types\n//   text\n\n//   relationship\n\n//   tag\n\n\n// {text: 'this is some text'}\n\n// {text: 'this is some text', author: 'public_key'}\n\n// {text: 'this is some text', author: 'public_key', created_at: new DateTime().getTimeUTC()}\n\n\nfunction Server() {\n  var addIndex = function addIndex(_ref16, hash) {\n    var indices = _ref16.indices;\n    return indices[hash] = [];\n  },\n      addIndexOn = {};\n}\n\n// text\n// json:reference\n\n\n// organization\n//   budgets?\n//   tasks?\n//   goals?\n//   projects?\n//   payments\n//     bitcoin\n//     dollars\n\n// messageboard : organization\n//   text\n//   tags\n//   references\n//   author\n//   signature\n\n// reference\n//   data\n//   position\n//   length\n\n// tag\n//   text\n//   referece\n\n/***/ }),\n\n/***/ \"DtTT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TabPanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"+EiC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar TabPanel = function (_Component) {\n  _inherits(TabPanel, _Component);\n\n  function TabPanel(props) {\n    _classCallCheck(this, TabPanel);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      selected: 0,\n      expanded: true\n    };\n    return _this;\n  }\n\n  TabPanel.prototype.render = function render(_ref, _ref2) {\n    var _this2 = this;\n\n    var children = _ref.children,\n        className = _ref.className;\n    var selected = _ref2.selected,\n        expanded = _ref2.expanded;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'tab-panel',\n      { className: __WEBPACK_IMPORTED_MODULE_1__style___default.a[className] },\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'headers',\n        null,\n        children.map(function (_ref3, i) {\n          var header = _ref3.attributes.header;\n          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'selector',\n            {\n              className: selected === i ? __WEBPACK_IMPORTED_MODULE_1__style___default.a['selected'] : '',\n              onClick: function onClick() {\n                return _this2.setState({ selected: i, expanded: true });\n              } },\n            selected === i ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'expander',\n              { onClick: function onClick(event) {\n                  return _this2.setState({ expanded: !expanded }) & event.stopPropagation();\n                } },\n              expanded ? '-' : '+'\n            ) : undefined,\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'text',\n              null,\n              header\n            )\n          );\n        })\n      ),\n      expanded ? children[selected] : undefined\n    );\n  };\n\n  return TabPanel;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"LtVz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return Hash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ColorHash; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"QD63\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_preact_router_match__);\n\n\n\n\nvar Hash = function Hash(props) {\n  return props.settings.colorHash ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(ColorHash, props) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'hash',\n    null,\n    props.hash\n  );\n};\n\nvar ColorHash = function ColorHash(_ref) {\n  var hash = _ref.hash,\n      hashFnName = _ref.hashFnName,\n      route = _ref.route;\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'color-hash',\n    { title: hash, onClick: function onClick() {\n        return route('/' + hashFnName + '/' + hash);\n      } },\n    hash.match(/[0-9a-f]{8}/g).map(function (portion) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'span',\n        { style: 'background-color: rgba(' + parseInt(portion.substring(0, 2), 16) + ', ' + parseInt(portion.substring(2, 4), 16) + ', ' + parseInt(portion.substring(4, 6), 16) + ', ' + (parseInt(portion.substring(6, 8), 16) / 255 / 2 + 0.3) + ');' },\n        portion\n      );\n    })\n  );\n};\n\n\n\n/***/ }),\n\n/***/ \"NBoq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Raw; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact_router_match__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"rYS7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hash__ = __webpack_require__(\"LtVz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_renderLinks__ = __webpack_require__(\"sr9F\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\nvar Raw = function Raw(_ref) {\n  var hash = _ref.hash,\n      data = _ref.data,\n      onClick = _ref.onClick,\n      props = _objectWithoutProperties(_ref, ['hash', 'data', 'onClick']);\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'raw',\n    { onClick: onClick },\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'table',\n      null,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'tbody',\n        null,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'tr',\n          null,\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'td',\n            null,\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'data',\n              null,\n              __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util_renderLinks__[\"a\" /* default */])(data, props)\n            )\n          )\n        ),\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'tr',\n          { className: __WEBPACK_IMPORTED_MODULE_2__style___default.a['info'] },\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'td',\n            null,\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_3__hash__[\"b\" /* Hash */], _extends({ hash: hash }, props))\n          )\n        )\n      )\n    )\n  );\n};\n\n\n\n/***/ }),\n\n/***/ \"QD63\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"auzC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"pptu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Json; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"auzC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__hash__ = __webpack_require__(\"LtVz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_renderLinks__ = __webpack_require__(\"sr9F\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\nfunction Json(props) {\n  var references = props.references,\n      hash = props.hash,\n      keys = references[hash] || {};\n\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'json',\n    { onClick: props.onClick },\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(KeyValues, props),\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'lower',\n      null,\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2__hash__[\"a\" /* ColorHash */], props),\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'references',\n        null,\n        Object.keys(keys).map(function (key) {\n          return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'reference',\n            null,\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'key',\n              null,\n              key\n            ),\n            ' ',\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'count',\n              null,\n              keys[key]\n            )\n          );\n        })\n      )\n    )\n  );\n}\n\nfunction KeyValues(_ref) {\n  var obj = _ref.obj,\n      props = _objectWithoutProperties(_ref, ['obj']);\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'key-values',\n    null,\n    Object.keys(obj).map(function (key) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'key-value',\n        null,\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'value',\n          null,\n          renderValue(obj[key], props)\n        ),\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'key',\n          null,\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'span',\n            null,\n            key\n          )\n        )\n      );\n    })\n  );\n}\n\nfunction renderValue(value, props) {\n  switch (typeof value) {\n    case 'object':\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(KeyValues, _extends({}, props, { obj: value }));\n      break;\n    case 'string':\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_renderLinks__[\"a\" /* default */])(value, props);\n      break;\n    default:\n      return value;\n  }\n}\n\n/***/ }),\n\n/***/ \"rYS7\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"sr9F\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_hash__ = __webpack_require__(\"LtVz\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (renderLinks);\n\nfunction renderLinks() {\n      var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var props = arguments[1];\n\n      var regexp = /(ftp|http|https|keccak):(\\/\\/)?([^ \"]+)/ig,\n          result = [];\n\n      var match = void 0;\n      while ((match = regexp.exec(text)) !== null) {\n\n            var index = text.indexOf(match[0]),\n                protocol = match[1],\n                prev = text.substring(0, index),\n                next = text.substring(index + match[0].length);\n\n            result.push(prev);\n\n            if (protocol === 'keccak') result.push(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1__components_hash__[\"b\" /* Hash */], _extends({}, props, { hash: match[3] })));else result.push(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                  'a',\n                  { href: match[0], onClick: function onClick(event) {\n                              return event.stopPropagation();\n                        }, target: 'linkIframe' },\n                  match[0]\n            ));\n\n            text = next;\n      }\n\n      result.push(text);\n\n      return result;\n}\n\n/***/ }),\n\n/***/ \"vO8M\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"selected\":\"selected__Gj1B3\",\"label\":\"label__bnOZh\",\"info\":\"info__3tmHj\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.a2c05.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"selected\":\"selected__3rVjq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/tabPanel/style.less\n// module id = +EiC\n// module chunks = 0 1","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport style from './style';\n\nimport {Hash, ColorHash} from '../../components/hash';\nimport {Json} from '../../components/json';\nimport {Raw} from '../../components/raw';\nimport {TabPanel} from '../../components/tabPanel';\n\nimport keccak from '../../lib/keccak.js';\n\nconst host = window.location.hostname === 'localhost' ? 'localhost:9999' : 'db.fact.company';\n\nconst Text = ({text}) => <text>{text}</text>;\nconst TextJSON = ({text, json}) => <text-json><text>{text}</text><json>{json}</json></text-json>;\nconst HashTextJSON = ({hash, text, json}) => <hash-text-json><text>{text}</text><json>{json}</json><hash>{hash}</hash></hash-text-json>;\n// const HashBucket = ({hash, children}) => <hash-bucket><hash>{hash}</hash>{...children}</hash-bucket>;\n\nfunction get(url) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url);\n    xhr.addEventListener('load', () => resolve(xhr.responseText));\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('timeout', reject);\n    xhr.send();\n  });\n}\n\nfunction post(url, data) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', url);\n    xhr.addEventListener('load', () => resolve(xhr.responseText));\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('timeout', reject);\n    xhr.send(data);\n  });\n}\n\nfunction postLookup(hashes) {\n  return post(`http://${host}/keccak/lookup`, hashes);\n}\n\n\nexport default class Home extends Component {\n  state = {\n    log: [],\n    delay: 500,\n    failCount: 0\n    // data: {}\n    // data: this.props.store.data\n  }\n\n  constructor(props) {\n    super();\n\n    this.state.data = props.store.data;\n\n    const home = this,\n          {store} = props;\n\n    this.store = store;\n\n    // if (!this.latestSubscription) this.latestSubscription = subscribe();\n\n    function subscribe() {\n      return (\n        store\n          // .getSubscribeLatest(hashes => {\n          .getSubscribeJsonKey('link', hashes => {\n            console.log('hashes', hashes);\n            hashes\n              .reduce((promise, hash) =>\n                !hash ? undefined\n                      : store.getData(hash)\n                             .then(data =>\n                               setState(store.transforms['addData'].bind(home, hash, data)))\n              , Promise.resolve())\n          })\n          .then(subscribe)\n          .then(() => home.state.failCount = 0)\n          .catch(() => setTimeout(subscribe, (home.state.delay = 100 * Math.pow(2, (home.state.failCount = (home.state.failCount || 0) + 1)))))\n      );\n    }\n\n    function setState(state) {\n      return home.setState.call(home, state);\n    }\n  }\n\n  onTextAdd(text) {\n    const {hashes, objects, jsons} = makeFullyHashed({text});\n\n    for (let i = 0; i < hashes.length; i++) {\n      console.log('settings', text, hashes[i], objects[i], jsons[i]);\n      const hash = hashes[i].substring(7),\n            json = jsons[i];\n\n      if (this.state.data[hash] === undefined) {\n        const xhr = new XMLHttpRequest();\n\n        xhr.open('POST', `http://${host}/keccak/${hash}`, true);\n        xhr.send(json);\n      }\n\n      this.setState(transforms['addData'].bind(this, hash, json));\n    }\n\n    return hashes;\n  }\n\n  onTextTagsAdd(text, tags) {\n    const hashed = {text, tags},\n          {hash, json} = hashObject(hashed),\n          hashes = [hash],\n          jsons = [json];\n          // {hashes, jsons} = makeFullyHashed({text, tags});\n\n    for (let i = 0; i < hashes.length; i++) {\n      console.log('setting', text, hashes[i], jsons[i]);\n      const hash = hashes[i].substring(7),\n            json = jsons[i];\n\n      if (this.state.data[hash] === undefined) {\n        this.store.addData(json);\n      }\n\n      this.setState(this.props.store.transforms['addData'].bind(this, hash, json));\n    }\n  }\n\n\n          //<data>{Object.keys(data).map(k => data[k].map(d => <HashTextJSON hash={k} {...makeFullyUnhashed(data, d)} />))}</data>\n  render({text, tags, store, ...props}, {data}) {\n    const {hosts, data: storeData, log} = store;\n    return (\n      <home>\n        <left>\n          <TabPanel>\n            {hosts.map(host => (\n              <container\n                header={`db (${host})`}>\n                <FilterView {...{store, ...props}} data={data} />\n              </container>\n            ))}\n            <container\n              header=\"localStorage\">\n              <DataView items={['ceec1972c7f3e92c0483c1d8fc1b50676176b877278d0157350dd41c51f0f14d']} data={{'ceec1972c7f3e92c0483c1d8fc1b50676176b877278d0157350dd41c51f0f14d':['456']}} {... props} />\n            </container>\n            <container\n              header=\"store\">\n              <DataView items={log} data={storeData} {... props} />\n            </container>\n          </TabPanel>\n        </left>\n        <right>\n          <TextTagsInput text={text} tags={tags} onAdd={this.onTextTagsAdd.bind(this)} />\n        </right>\n      </home>\n    );\n  }\n}\n\nclass FilterView extends Component {\n  state = {\n    failCount: 0,\n    filters: [],\n    references: {},\n    items: []\n  }\n\n  constructor(props) {\n    super();\n\n    this.state.data = props.data;\n    this.store = props.store;\n\n    this.setFilters();\n  }\n\n  setFilters(filters = []) {\n    console.log('setting filters', filters, this.state.filters);\n    if ((filters.length === 0 && this.state.filters.length === 0) ||\n      !listsEqual(filters, this.state.filters)) {\n      this.setState(state => {\n        console.log('data', state.data);\n        state.filters = filters;\n        state.items.splice(0);\n        return state;\n      });\n      console.log('setFilters', filters, this.state.filters);\n      this.subscribe(filters);\n    }\n  }\n\n  subscribe(filters) {\n    const home = this,\n          store = this.store,\n          token = (this.token = this.token || {});\n\n    if (this.token.cancel) this.token.cancel();\n\n    console.log('subscribing', filters);\n\n    return (this.subscription || Promise.resolve()).then(() => {\n      const callback = hashes => {\n        console.log('hashes', hashes);\n\n        hashes\n          .reverse()\n          .reduce((promise, hash) =>\n            !hash && !token.canceled ? promise\n                  : store.getData(hash)\n                         .then(data => setState(store.transforms['addData'].bind(home, hash, data)))\n                         .then(() => store.getJsonReferences(hash))\n                         .then(references => setState(state => {\n                            state.references[hash] = references; // bad way to do this... will need to delete?\n                            state.items.unshift(hash);\n                            console.log('references', references);\n                            return state;\n                         }))\n          , Promise.resolve())\n          .catch(error => console.log('big error', error));\n      };\n\n      return this.subscription = new Promise((resolve, reject) => {\n        (filters[0] || '' !== '' ? store.getSubscribeJsonKey(filters[0], callback, token) : store.getSubscribeLatest(callback, token))\n          .then(() => home.state.failCount = 0)\n          .then(() => {\n            if (!token.canceled) {\n              state.items.splice(0);\n              home.subscribe.call(home, filters);\n            }\n          })\n          .then(resolve)\n          .catch(() => {\n            console.log('subscription catch!', filters);\n            if (!token.canceled) {\n              setTimeout(() => {\n                state.items.splice(0);\n                home.subscribe.bind(home, filters);\n              }, (home.state.delay = 100 * Math.pow(2, (home.state.failCount = (home.state.failCount || 0) + 1))));\n              resolve();\n            }\n            else reject();\n          });\n        });\n    });\n\n    function setState(state) {\n      return home.setState.call(home, state);\n    }\n  }\n\n  render(props, {data = [], references, items}) {\n    const {setFilters} = this;\n\n    return (\n      <filter-view>\n        <FilterInput {...{setFilters: setFilters.bind(this), ...props}} />\n        <DataView {...{...props, data, references, items}} />\n      </filter-view>\n    );\n  }\n}\n\nfunction listsEqual(l1, l2) {\n  if (l1.length !== l2.length) return false;\n  for (let i = 0; i < l1.length; i++)\n    if (l1[0] !== l2[0])\n      return false;\n  return true;\n}\n\nclass FilterInput extends Component {\n  state = {\n    filters: []\n  }\n\n  addFilter() {\n    const home = this,\n          store = this.props.store;\n\n    this.setState(state => {\n      if (state.filters.indexOf(home.input.value) === -1) state.filters.push(home.input.value);\n      return state;\n    });\n\n    this.props.setFilters(this.state.filters.slice());\n  }\n\n  removeFilter(filter) {\n    this.setState(state => {\n      const index = state.filters.indexOf(filter);\n      if (index >= 0) state.filters.splice(index, 1);\n      return state;\n    });\n\n    console.log('filter removed', filter, this.state.filters);\n    this.props.setFilters(this.state.filters.slice());\n  }\n\n  render({}, {filters}) {\n    return (\n      <filter-input>\n      {filters.map(filter => <filter><remove onClick={this.removeFilter.bind(this, filter)}>x</remove>{filter}</filter>)}\n        <input type=\"text\" onKeyUp={({which}) => which === 13 ? this.addFilter() : undefined} ref={el => this.input = el} value=\"\" />\n        <button onClick={this.addFilter.bind(this)}>+</button>\n      </filter-input>\n    );\n  }\n}\n\nconst DataView = ({data, items, route, ...props}) => (\n  <db>\n    {items.length}\n    {items.map(hash => (data[hash] || []).map(d => <Json hash={hash} obj={JSON.parse(d)} onClick={() => route(`/keccak/${hash}`)} {...props} />))}\n  </db>\n  // <db>{items.map(hash => data[hash].map(d => <Raw hash={hash} data={d} onClick={() => route(`/keccak/${hash}`)} {...props} />))}</db>\n);\n\nconst Data = () => (\n  <data></data>\n);\n\n// {\n//   hash,\n//   data,\n//   json,\n//   object\n// }\n\n\nconst TextInput = ({text, onAdd}) => (\n  <text-input>\n    <textarea autofocus value={text} ref={el => this.textarea = el}></textarea>\n    <button onClick={() => onAdd(this.textarea.value)}>Add</button>\n  </text-input>\n);\n\nconst TextTagsInput = ({text, tags, onAdd}) => (\n  <text-input>\n    <div>\n      <label>Text</label>\n      <textarea autofocus value={text} ref={el => this.textarea = el}></textarea>\n    </div>\n    <div>\n      <label>Tags (separate with commas)</label>\n      <textarea value={tags} ref={el => this.tags = el}></textarea>\n    </div>\n    <button onClick={() => onAdd(this.textarea.value, this.tags.value.length > 0 ? this.tags.value.split(',') : undefined) & this.textarea.focus()}>Add</button>\n  </text-input>\n);\n\n\nconst makeHashString = data => `keccak:${keccak(data)}`;\n\nfunction hashObject(obj) {\n  const json = JSON.stringify(obj),\n        hash = makeHashString(json);\n\n  return {hash, json};\n}\n\nfunction makeFullyHashed(object) {\n  const hashes = [],\n        objects = [object],\n        jsons = [];\n\n  console.log('fully hashing', object);\n\n  const {hash, json} = hashObject(Object.keys(object).reduce((hashed, key) => {\n    const value = object[key];\nconsole.log(key, value, typeof value);\n    if (typeof value === 'string') {\n      console.log('got string', value);\n      const hash = makeHashString(value);\n      hashed[key] = hash;\n      hashes.push(hash);\n      objects.push(value);\n      jsons.push(undefined);\n    }\n    else if (Array.isArray(value)) {\n      console.log('got array');\n      const {hashes: h, objects: o, jsons: j} = makeFullyHashed(value);\n      hashed[key] = hash;\n      // hashes.push(hash);\n      hashes.push(...h);\n      objects.push(...o);\n      jsons.push(...j);\n    }\n    else if (typeof value === 'object') {\n      console.log('got object')\n      const {hashes: h, objects: o, jsons: j} = makeFullyHashed(value);\n      hashed[key] = hash;\n      // hashes.push(hash);\n      hashes.push(...h);\n      objects.push(...o);\n      jsons.push(...j);\n    }\n\n    return hashed;\n  }, {}));\n\n  hashes.unshift(hash);\n  jsons.unshift(json);\n\n  console.log('hash', hashes, objects, jsons);\n\n  return {hashes, objects, jsons};\n}\n\nfunction makeFullyUnhashed(data, hashed, key) {\n  console.log({data, hashed}, typeof hashed, key);\n  if (typeof hashed === 'object') {\n    return Object.keys(hashed).reduce((unhashed, key) => {\n      unhashed[key] = makeFullyUnhashed(data, hashed[key], key);\n      console.log(unhashed);\n      return unhashed;\n    }, {});\n  }\n  else if (typeof hashed === 'string') {\n    if (key === 'json') return hashed; // shouldn't hardcode key name like this...\n    if (hashed.indexOf('keccak:') === 0) return data[hashed][0][key];\n  }\n}\n\nfunction unhashJSONToDepth(data, hashed, max_depth, depth = 0) {\n\n}\n\nfunction unhashJSONToDepthWithHandlers(data, handlers, hashed, max_depth, depth = 0) {\n\n}\n\n\n// text\n// tags\n// relationships\n// annotations\n\n\n// {\n//   text: '',\n//   tags: [],\n//   relationships: {\n\n//   }\n// }\n\n\n// types\n//   text\n\n//   relationship\n\n//   tag\n\n\n// {text: 'this is some text'}\n\n// {text: 'this is some text', author: 'public_key'}\n\n// {text: 'this is some text', author: 'public_key', created_at: new DateTime().getTimeUTC()}\n\n\n\nfunction Server() {\n  const addIndex = ({indices}, hash) => indices[hash] = [],\n        addIndexOn = {};\n\n}\n\n// text\n// json:reference\n\n\n// organization\n//   budgets?\n//   tasks?\n//   goals?\n//   projects?\n//   payments\n//     bitcoin\n//     dollars\n\n// messageboard : organization\n//   text\n//   tags\n//   references\n//   author\n//   signature\n\n// reference\n//   data\n//   position\n//   length\n\n// tag\n//   text\n//   referece\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","import { h, Component } from 'preact';\nimport style from './style';\n\nclass TabPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: 0,\n      expanded: true\n    };\n  }\n\n  render({children, className}, {selected, expanded}) {\n    return (\n      <tab-panel className={style[className]}>\n        <headers>\n          {children.map(({attributes: { header }}, i) =>\n            <selector\n              className={selected === i ? style['selected'] : ''}\n              onClick={() => this.setState({selected: i, expanded: true})}>\n                {selected === i ? <expander onClick={event => this.setState({expanded: !expanded}) & event.stopPropagation()}>{expanded ? '-' : '+'}</expander> : undefined}\n                <text>{header}</text>\n            </selector>\n          )}\n        </headers>\n        {expanded ? children[selected] : undefined}\n      </tab-panel>\n    );\n  }\n}\n\nexport {TabPanel};\n\n\n// WEBPACK FOOTER //\n// ./components/tabPanel/index.js","import style from './style';\nimport { Link } from 'preact-router/match';\n\nconst Hash = props => props.settings.colorHash ? <ColorHash {...props} /> : <hash>{props.hash}</hash>;\n\nconst ColorHash = ({hash, hashFnName, route}) => (\n  <color-hash title={hash} onClick={() => route(`/${hashFnName}/${hash}`)} >\n    {hash.match(/[0-9a-f]{8}/g).map(portion => (<span style={`background-color: rgba(${parseInt(portion.substring(0, 2), 16)}, ${parseInt(portion.substring(2, 4), 16)}, ${parseInt(portion.substring(4, 6), 16)}, ${parseInt(portion.substring(6, 8), 16) / 255 / 2 + 0.3});`}>{portion}</span>))}\n  </color-hash>\n);\n\nexport {Hash, ColorHash};\n\n\n// WEBPACK FOOTER //\n// ./components/hash/index.js","import { Link } from 'preact-router/match';\n\nimport style from './style';\n\nimport {Hash} from '../hash';\nimport renderLinks from '../../util/renderLinks';\n\nconst Raw =\n  ({hash, data, onClick, ...props}) => (\n    <raw onClick={onClick}>\n      <table>\n        <tbody>\n          <tr>\n            <td><data>{renderLinks(data, props)}</data></td>\n          </tr>\n          <tr className={style['info']}>\n            <td><Hash hash={hash} {...props} /></td>\n          </tr>\n        </tbody>\n      </table>\n    </raw>\n  );\n\nexport {Raw};\n\n\n// WEBPACK FOOTER //\n// ./components/raw/index.js","import { h, Component } from 'preact';\n\nimport style from './style';\n\nimport {ColorHash} from '../hash';\n\nimport renderLinks from '../../util/renderLinks';\n\n\nexport {Json};\n\nfunction Json (props) {\n  const {references, hash} = props,\n        keys = references[hash] || {};\n\n  return (\n    <json onClick={props.onClick}>\n      <KeyValues {...props} />\n      <lower>\n        <ColorHash {...props} />\n        <references>\n        {Object.keys(keys).map(key => <reference><key>{key}</key> <count>{keys[key]}</count></reference>)}\n        </references>\n      </lower>\n    </json>\n  );\n}\n\nfunction KeyValues({obj, ...props}) {\n  return (\n    <key-values>\n      {Object.keys(obj).map(key => (\n        <key-value>\n          <value>{renderValue(obj[key], props)}</value>\n          <key><span>{key}</span></key>\n        </key-value>\n      ))}\n    </key-values>\n  );\n}\n\nfunction renderValue(value, props) {\n  switch (typeof value) {\n    case 'object':\n      return <KeyValues {...props} obj={value} />\n      break;\n    case 'string':\n      return renderLinks(value, props);\n      break;\n    default:\n      return value;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/json/index.js","import {Hash} from '../components/hash';\n\nexport default renderLinks;\n\nfunction renderLinks(text = '', props) {\n  const regexp = /(ftp|http|https|keccak):(\\/\\/)?([^ \"]+)/ig,\n        result = [];\n\n  let match;\n  while ((match = regexp.exec(text)) !== null) {\n\n    const index = text.indexOf(match[0]),\n          protocol = match[1],\n          prev = text.substring(0, index),\n          next = text.substring(index + match[0].length);\n\n    result.push(prev);\n\n    if (protocol === 'keccak') result.push(<Hash {...props} hash={match[3]} />);\n    else result.push(<a href={match[0]} onClick={event => event.stopPropagation()} target=\"linkIframe\">{match[0]}</a>);\n\n    text = next;\n  }\n\n  result.push(text);\n\n  return result;\n}\n\n\n// WEBPACK FOOTER //\n// ./util/renderLinks.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"selected\":\"selected__Gj1B3\",\"label\":\"label__bnOZh\",\"info\":\"info__3tmHj\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.less\n// module id = vO8M\n// module chunks = 0"],"sourceRoot":""}